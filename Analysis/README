
*** Basic documentation of Stopped HSCP Analysis code ***

1. C++ code
StoppedHSCPEvent class
	interface/StoppedHSCPEvent.h
	src/StoppedHSCPEvent.cc
	src/LinkDef.h
	Defines the TTree and provides helper methods to fill it. TTree can be read in bare ROOT with no additional code required.

StoppedHSCPTreeProducer class
	plugins/StoppedHSCPTreeProducer.cc
	python/stoppedHSCPTree_cfi.py
	An ESAnalyzer that writes TTrees using TFileService. Config file includes switches to turn on/off MC, Reco and digi level information

[Code below is all old modules of Ben's that may be useful]
BitFilter
	plugins/BitFilter.cc
	Select events based on L1 bits.  Used by some jobs, but will be replaced with official L1Skimmer asap

CaloFilter
	plugins/CaloFilter.cc
	Select events based on caloJet and caloTower cuts.  To be incorporated in post-ntuple analysis asap.

MuonFilter
	plugins/MuonFilter.cc
	Select events based on muon 4-vector.  Redundant with official selectors.  To be removed.

MuonJets
	plugins/MuonJets.cc
	Extraplotes muons to HCAL and make histograms.

TimingExtract
	plugins/TimingExtract.cc
	Print run and event number to file.

TimingExtractFltr
	plugins/TimingExtractFltr.cc
	Filter events based on file written by TimingExtract.
	

2. CMSSW jobs
test/testStoppedHSCPTree.py
	Test job for producing TTrees.


3.  ROOT macros
macros/Chain.C	     	  store input files in one place
macros/BasicPlots.C   	  plot all the basic distributions
macros/Cuts.C		  offline selection methods
macros/WriteSelection.C	  select events and write a new TTree

4.  Utilities
test/merge.py - merge ROOT files from CASTOR locations



*** Basic instructions for doing Stopped HSCP Analysis ***

1.  Making ntuples
cmsRun test/testStoppedHSCPTree.py

2.  Making ntuples on the CAF
crab -create -cfg test/crab_CAF.cfg

3. Merging ntuples
python test/merge.py <castor path> <output file>
       This will merge *all* files in <castor directory> and put them in <output file>.  You might
need to copy and edit the hadd command if this produces an output file > 2 Gb.  (ie. this is work in progress!)

4.  Making plots from ntuples
root -q -b macros/DoAnalysis.C

